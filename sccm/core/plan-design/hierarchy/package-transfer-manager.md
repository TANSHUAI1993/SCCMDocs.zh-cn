---
title: "包传输管理器 | Microsoft Docs"
description: "了解 System Center Configuration Manager 中的包传输管理器如何将内容从站点服务器传输到远程分发点。"
ms.custom: na
ms.date: 10/06/2016
ms.reviewer: na
ms.suite: na
ms.prod: configuration-manager
ms.technology:
- configmgr-other
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 3359f254-dd48-42b7-9eab-c92a3417e3fb
caps.latest.revision: 3
author: Brenduns
ms.author: brenduns
manager: angrobe
translationtype: Human Translation
ms.sourcegitcommit: 6ed317d45d90758832d4157985dd95d5e253c6fc
ms.openlocfilehash: 6e61c56b9d1111287bf5a9f22832f6b1ca8146b7

---
# <a name="package-transfer-manager-in-system-center-configuration-manager"></a>System Center Configuration Manager 中的包传输管理器

*适用范围：System Center Configuration Manager (Current Branch)*

在 System Center Configuration Manager 站点中，包传输管理器是 SMS_Executive 的组件，用于管理将内容从站点服务器计算机传输到站点内远程分发点。 （远程分发点是不位于站点服务器计算机上的分发点。）包传输管理器不支持由管理员配置，但了解它的工作方式有助于规划内容管理基础结构，并帮助解决内容分发方面的问题。


当你将内容分发到站点中的一个或多个远程分发点时， **分发管理器** 会创建一个内容传输作业，然后通知主站点和辅助站点服务器上的包传输管理器将内容传输到远程分发点。

 包传输管理器会在站点服务器上的“pkgxfermgr.log”  文件中记录其操作。 你只能在此日志文件中查看包传输管理器的活动。  

> [!NOTE]  
>  在 Configuration Manager 的以前版本中，分发管理器管理将内容传输至远程分发点。 分发管理器还管理站点间的内容传输。 借助 System Center Configuration Manager，分发管理器将继续管理两个站点间的内容传输。 但是，包传输管理器允许 Configuration Manager 卸载分发管理器中将内容传输至大量分发点所需的操作。 与以前的产品版本相比，这有助于提高在站点之间部署内容以及将内容部署到站点内的分发点的整体性能。  

 为了将内容传输到独立的分发点，包传输管理器会像分发管理器在以前的 Configuration Manager 版本中那样运行。 即，对到每个远程分发点的文件传输进行主动管理。 但是，为了将内容分发到请求分发点，包传输管理器会通知请求分发点内容可用，然后将传输该内容的进程移交至该请求分发点。  

下列信息描述了包传输管理器如何管理将内容传输至标准分发点以及配置为请求分发点的分发点的方式：
1.  **管理用户将内容部署到站点中的一个或多个分发点**  

    -   **标准分发点：**分发管理器为该内容创建内容传输作业。  

    -   **请求分发点：**分发管理器为该内容创建内容传输作业。  

2.  **分发管理器运行初步检查**  

    -   **标准分发点：**分发管理器运行基本检查，以确认每个分发点都可以接收内容。 在进行此检查后，分发管理器将通知包传输管理器开始将内容传输至该分发点。  

    -   **请求分发点：**分发管理器将启动包传输管理器，然后，包传输管理器会通知请求分发点该分发点有新的内容传输作业。 分发管理器不会检查本身为请求分发点的远程分发点的状态，因为每个请求分发点将管理其自己的内容传输。  

3.  **包传输管理器准备传输内容**  

    -   **标准分发点：**包传输管理器将检查每个指定远程分发点的单一实例内容存储，以标识已经在该分发点上的任何文件。 然后，包传输管理器会进行排队以仅传输还不存在的那些文件。  

        > [!NOTE]  
        >  对内容使用“重新分发”  操作时，包传输管理器会将分发中的每个文件复制到分发点，即使该分发点的单一实例存储中已经存在这些文件也不例外。  

    -   **请求分发点：**对于分发中的每个请求分发点，包传输管理器会检查请求分发点的源分发点以确认是否有内容可用：  

        -   如果至少一个源分发点上有可用的内容，则包传输管理器会向该请求分发点发送通知，指示该分发点开始执行内容传输过程。 此通知包括文件名和大小、属性和哈希值。  

        -   如果尚未提供内容，则包传输管理器不会向分发点发送通知。 而是会每 20 分钟重复进行一次检查，直到有可用的内容为止。 然后，当有可用的内容时，包传输管理器会向该请求分发点发送通知。  

        > [!NOTE]  
        >  对内容使用“重新分发”  操作时，该请求分发点会将分发中的每个文件复制到分发点，即使该请求分发点的单一实例存储中已经存在这些文件也不例外。  

4.  **此时内容将开始传输**  

    -   **标准分发点：**包传输管理器会将文件复制到每个远程分发点。 在传输至标准分发点期间：  

        -   默认情况下，包传输管理器可以同时处理三个唯一的包，并且可以并行将其分发给五个分发点。 这些设置称为“并发分发设置”  ，它们是在“软件分发组件属性”  的“常规”  选项卡中为每个站点配置的。  

        -   将内容传输至每个分发点时，包传输管理器使用该分发点的计划和网络带宽配置。 你可以在每个远程分发点的“属性”  中的“计划”  和“速率限制”  选项卡上配置这些设置。 有关详细信息，请参阅[为 System Center Configuration Manager 管理内容和内容基础结构](../../../core/servers/deploy/configure/manage-content-and-content-infrastructure.md)  

    -   **请求分发点：**当请求分发点收到通知文件时，分发点将开始内容传输过程。 此传输过程在每个请求分发点上独立运行：  

        -   请求分发将标识在其单一实例存储中还没有的内容分发中的文件，并准备从其源分发点之一中下载该内容。  

        -   然后，该请求分发点会按顺序检查其每个源分发点，直到找到具有可用内容的源分发点为止。 当请求分发点标识具有内容的源分发点时，它将开始下载该内容。  

        > [!NOTE]  
        >  请求分发点下载内容的过程与 Configuration Manager 客户端使用的过程相同。 对于请求分发点进行的内容传输，既不能使用并发传输设置，也不能使用为标准分发点配置的计划和限制选项。  

5.  **内容传输完成**  

    -   **标准分发点：**当包传输管理器将文件传输到每个指定的远程分发点后，它将验证分发点上的内容的哈希，并通知分发管理器分发已完成。  

    -   **请求分发点：**在请求分发点完成内容下载之后，该分发点会验证内容的哈希，然后将状态消息提交至站点管理点以指明成功。 但是，如果在 60 分钟后未收到此状态，则包传输管理器将唤醒，并与请求分发点核对以确认请求分发点已下载了内容。 如果内容下载正在进行，则包传输管理器将休眠 60 分钟，之后再次与请求分发点核对。 此循环将持续，直至请求分发点完成内容传输。  



<!--HONumber=Dec16_HO3-->


