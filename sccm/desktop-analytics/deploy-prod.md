---
title: 如何部署到生产环境
titleSuffix: Configuration Manager
description: 部署到桌面分析生产组的操作指南。
ms.date: 06/14/2019
ms.prod: configuration-manager
ms.technology: configmgr-other
ms.topic: conceptual
ms.assetid: 637fbd8e-b8ea-4c7e-95ee-a60a323c496e
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.collection: M365-identity-device-management
ms.openlocfilehash: b9030ad805853d1dd607607d80dca2b606e8160c
ms.sourcegitcommit: b64ed4a10a90b93a5bd5454b6efafda90ad45718
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/16/2019
ms.locfileid: "72386065"
---
# <a name="how-to-deploy-to-production-with-desktop-analytics"></a>如何通过桌面分析部署到生产环境

[部署到试验](/sccm/desktop-analytics/deploy-pilot)并查看资产状态后，便可以更新生产环境的其余部分。

[!INCLUDE [Definition of pilot and production](includes/define-pilot-prod.md)]

部署到生产设备的更新有三个主要部分：

1. [查看需要升级决策的资产](#bkmk_review)：若要使设备可以进行生产部署，其资产必须将其升级决策设置为 "就绪 **" 或 "就绪"，修正 "必需"** 。  

2. [部署到准备就绪的设备](#bkmk_deploy)：使用 Configuration Manager 更新已准备好的设备。 桌面分析提供可用于生产部署的设备列表，以及用于监视部署是否成功的报表。  

3. [监视已更新设备的运行状况](#bkmk_monitor)：随着更新部署的进行，监视重要资产的运行状况。 如果需要注意一些问题，请对问题进行故障排除并解决问题。 如果决定不能解决问题，请通过将升级决策设置为 "**不**能" 来停止对受影响设备的部署。  

> [!NOTE]  
> 当你确信试验部署是否成功时，请随时开始生产部署。 不要求所有试点设备首先达到 "已完成" 状态。  



## <a name="bkmk_review"></a>查看需要升级决策的资产

桌面分析指导你完成检查资产以进行生产部署的过程。 在 Azure 门户中，依次参阅 "**部署计划**"、"部署计划"，然后在左侧菜单中选择 "**准备生产**"。

![在桌面分析中准备生产视图的屏幕截图](media/prepare-production.png)

查看应用的状态。 使用该信息设置每个资产的升级决定。

使用各个选项卡来查看应用的状态。 在每个选项卡式视图中，你可以对结果进行筛选，以显示跟踪升级、需要注意的设备、具有混合结果的设备以及处于不确定状态的设备。

选择 "**会议目标**" 以根据以下条件将视图筛选到可能已准备好进行生产部署的资产：

- 风险：用于更新已安装此资产的设备的已知风险的预升级评估  

- 运行状况状态：对其他部署中的设备进行升级后评估，以及在安装更新后是否遇到问题。 有关运行状况的详细信息，请参阅[监视已更新设备的运行状况](#bkmk_monitor)。  

若要为升级批准资产，请在列表中选择该名称，然后从**升级决策**列表中选择以下选项之一：

- 查看正在进行
- 准备就绪
- 就绪（带有修正）
- 不
- 未查看

若要同时为多个应用程序设置此值，请使用第一列**选择此项**，然后选择 "**设置升级决策**"。

![在多个应用上设置升级决策选项](media/prep-prod-set-upgrade-decision.png)

选择 "**无数据**" 以查看无法分类的资产。 这些资产通常是没有足够的空间可供桌面分析执行风险或运行状况分析的资产。 若要改善覆盖范围，请将包含这些资产的其他设备添加到试验中，或让试点用户尝试这些资产。

还可能会出现 "**需要注意**" 或 "**混合结果**" 状态的资产。 在对这些资产做出升级决策之前，可能需要进行其他审查。

查看所有应用。 给定设备对所有资产进行肯定升级决策之后，其状态将更改为 "生产准备就绪"。 通过选择第三个部署步骤 "**部署**"，查看部署计划主页上的当前计数。


## <a name="bkmk_deploy"></a>部署到准备就绪的设备

Configuration Manager 使用桌面分析中的数据来创建生产部署的集合。 不要使用传统部署来部署任务序列。 使用以下过程创建桌面分析集成的部署：

如果遵循建议的过程[部署到试验设备](/sccm/desktop-analytics/deploy-pilot#deploy-to-pilot-devices)，Configuration Manager 分阶段部署已准备就绪。 将资产标记为 "*就绪*" 时，桌面分析会自动将这些设备同步到 Configuration Manager。 然后将这些设备添加到生产集合。 当分阶段部署移至第二阶段时，这些生产设备将接收升级部署。

如果将分阶段部署配置为**手动开始第二阶段部署**，则需要手动将其移到下一阶段。 有关详细信息，请参阅[管理和监视分阶段部署](/sccm/osd/deploy-use/manage-monitor-phased-deployments#bkmk_move)。

如果创建了与试验集合集成的桌面分析单一部署，则需要重复该过程以部署到生产集合。


### <a name="address-deployment-alerts"></a>解决部署警报

对于试验部署，桌面分析建议你在生产部署过程中需要关注的任何问题。 在桌面分析中，请参阅部署计划，并在左侧菜单中选择 "**部署状态**"。 "部署状态" 视图以下列类别列出设备：  

- 未启动
- 正在进行
- 已完成
- 需要注意-设备（按设备名称排序）
- 需要注意的问题（按问题类型排序）

![桌面分析生产部署状态的屏幕截图](media/prod-deployment-status.png)


## <a name="bkmk_monitor"></a>监视已更新设备的运行状况

**准备生产**页面重点介绍如何帮助你为资产做出升级决策。 默认情况下，该页只显示那些尚未处于 "**就绪**" 状态的资产。 "**监视器运行状况**" 页显示任何值得注意的资产的运行状况问题，甚至显示标记为 "**就绪**" 的资产。 如果发现问题，你可以对问题进行故障排除并解决问题，或者将升级决策更改为 "**无法**进行"。 当你更改升级决策时，此操作会阻止将来在具有该资产的设备上升级。

使用以下运行状况状态按资产筛选此页面：

| 运行状况状态筛选器 | 描述 |
|----------------------|-------------|
| **需要注意** | （默认筛选器）桌面分析检测到对该资产的某些运行状况指标进行了统计的重大回归
| **满足目标** | 桌面分析在行为上检测不到回归 |
| **数据不足** | 桌面分析没有足够的数据来进行任何建议 |
| **无数据** | 此资产尚无可用的使用情况数据 |

若要显示所有资产的未筛选视图，请选择当前筛选器。 此操作将删除该筛选器。

> [!NOTE]  
> 为了减少数据不足的资产数量，桌面分析会监视所有已升级到部署计划中指定的目标 Windows 版本的设备上的资产。 这些设备包括特定部署计划中未包含的那些设备。  

默认的排序顺序是已有事件具有该特定资产的设备数量，因此你可以快速查看哪些设备导致了最大的问题。 例如，在查看**应用**时，应用会按**过去两周的应用崩溃的设备**进行排序。

若要查看所有资产的运行状况，甚至包括那些没有足够的数据用于桌面分析来进行统计推断的资产，请使用以下过程：

1. 选择 "在**过去两周内发生事件的设备**" 列中的下拉列表。 仅将一个筛选器添加到在一定数量的设备上具有事件的那些资产，使其变得有趣。 例如，显示值**大于**100 的项。  

2. 选择 "在**过去两周内发生事件的% 设备**" 列中的下拉列表，并选择按**降序**排序。  

    生成的视图显示事件的最高速率为事件的资产。  

3. 选择资产以获取更多详细信息或更改其升级决定。  

有关详细信息，请参阅[运行状况状态监视](/sccm/desktop-analytics/health-status-monitoring)。
